# Migration `20200602122955-update-coverage-activity`

This migration has been generated by RaymondAnggara at 6/2/2020, 12:29:55 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."ActivityData" ALTER COLUMN "activityData" SET DEFAULT '';

ALTER TABLE "public"."CompareActivityData" ALTER COLUMN "activityData" SET DEFAULT '';

ALTER TABLE "public"."CoverageBusiness" DROP COLUMN "compareCoverageData",
DROP COLUMN "coverageData",
ADD COLUMN "locations" text  NOT NULL DEFAULT '';

ALTER TABLE "public"."CoverageData" ADD COLUMN "coverageData" text  NOT NULL DEFAULT '';

ALTER TABLE "public"."CompareCoverageData" ADD COLUMN "coverageData" text  NOT NULL DEFAULT '';

DROP TABLE "public"."ActivityTimes";

DROP TABLE "public"."CoverageLocation";
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200601195145-coverage-table-initial..20200602122955-update-coverage-activity
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator client {
   provider = "prisma-client-js"
@@ -31,8 +31,9 @@
 enum ReviewTag {
   PERFORMANCE
   NEWS
+  ACTIVITY
   OWNERSHIP
   COVERAGE
 }
@@ -164,48 +165,20 @@
   reviewTag   ReviewTag?
   createdAt   DateTime     @default(now())
 }
-model ActivityTimes {
-  id   String @default(cuid()) @id
-  AM1  Int?
-  AM2  Int?
-  AM3  Int?
-  AM4  Int?
-  AM5  Int?
-  AM6  Int?
-  AM7  Int?
-  AM8  Int?
-  AM9  Int?
-  AM10 Int?
-  AM11 Int?
-  PM12 Int?
-  PM1  Int?
-  PM2  Int?
-  PM3  Int?
-  PM4  Int?
-  PM5  Int?
-  PM6  Int?
-  PM7  Int?
-  PM8  Int?
-  PM9  Int?
-  PM10 Int?
-  PM11 Int?
-  AM12 Int?
-}
-
 model ActivityData {
   id           String        @default(cuid()) @id
   name         String
   location     String
-  activityData ActivityTimes
+  activityData String
 }
 model CompareActivityData {
   id           String        @default(cuid()) @id
   name         String
   location     String
-  activityData ActivityTimes
+  activityData String
 }
 model Activity {
   id              String                @default(cuid()) @id
@@ -217,38 +190,29 @@
   createdAt       DateTime              @default(now())
   updatedAt       DateTime              @updatedAt
 }
-model CoverageLocation {
-  id         String  @default(cuid()) @id
-  lat        Float
-  lng        Float
-  name       String?
-  address    String?
-  numReviews Float?
-}
-
 model CoverageBusiness {
   id           String             @default(cuid()) @id
   businessName String?
   numLocations Int?
-  locations    CoverageLocation[]
+  locations    String
 }
 model CoverageData {
   id           String             @default(cuid()) @id
   name         String
   location     String
   numLocations Int?
-  coverageData CoverageBusiness[]
+  coverageData String
 }
 model CompareCoverageData {
   id           String             @default(cuid()) @id
   name         String
   location     String
   numLocations Int?
-  coverageData CoverageBusiness[]
+  coverageData String
 }
 model Coverage {
   id              String                @default(cuid()) @id
```


