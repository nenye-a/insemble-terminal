# Migration `20200722110620-reset-password`

This migration has been generated by RaymondAnggara at 7/22/2020, 11:06:20 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."UserResetPasswordVerification" (
    "email" text  NOT NULL DEFAULT '',
    "id" text  NOT NULL ,
    "tokenEmail" text  NOT NULL DEFAULT '',
    "tokenQuery" text  NOT NULL DEFAULT '',
    "user" text  NOT NULL ,
    "verified" boolean  NOT NULL DEFAULT false,
    PRIMARY KEY ("id")
) 

ALTER TABLE "public"."UserResetPasswordVerification" ADD FOREIGN KEY ("user") REFERENCES "public"."User"("id") ON DELETE RESTRICT
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200708184935-demo-table..20200722110620-reset-password
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator client {
   provider = "prisma-client-js"
@@ -145,8 +145,17 @@
   tokenEmail String
   tokenQuery String
 }
+model UserResetPasswordVerification {
+  id         String     @default(cuid()) @id
+  email      String
+  user       User
+  verified   Boolean    @default(false)
+  tokenEmail String
+  tokenQuery String
+}
+
 model UserEmailVerification {
   id         String  @default(cuid()) @id
   email      String
   user       User
```


